<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root { --mc: #ffd700; --sh: rgba(255, 215, 0, 0.4); --bg: #0b0b0b; }
        
        /* –£–±–∏—Ä–∞–µ–º —Å–∏–Ω–µ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∏ –∫–ª–∏–∫–µ */
        * { 
            -webkit-tap-highlight-color: transparent; 
            -webkit-touch-callout: none;
            user-select: none;
            box-sizing: border-box; 
            outline: none; 
        }

        body { background: var(--bg); color: #fff; font-family: 'Segoe UI', sans-serif; margin: 0; overflow: hidden; height: 100vh; }
        
        /* –≠—Ñ—Ñ–µ–∫—Ç—ã */
        .particle { position: absolute; top: -30px; z-index: -1; animation: fall linear infinite; pointer-events: none; }
        @keyframes fall { to { transform: translateY(105vh) rotate(360deg); } }

        /* –®–∞–ø–∫–∞ */
        .header { position: fixed; top: 0; width: 100%; height: 60px; display: flex; justify-content: space-between; align-items: center; padding: 0 15px; background: rgba(0,0,0,0.95); z-index: 100; border-bottom: 2px solid var(--mc); }
        .icon-btn { font-size: 28px; cursor: pointer; color: var(--mc); }

        /* –ü–∞–Ω–µ–ª–∏ */
        .panel { position: fixed; top: 0; left: -100%; width: 100%; height: 100%; background: var(--bg); z-index: 200; transition: 0.3s ease; padding: 70px 20px 20px; overflow-y: auto; }
        .panel.active { left: 0; }
        .sub-panel { display: none; flex-direction: column; align-items: center; width: 100%; }
        .sub-panel.active { display: flex; }

        /* –ö–∞—Ä—Ç–æ—á–∫–∏ –∏ –ö–Ω–æ–ø–∫–∏ */
        .card { background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 15px; padding: 15px; margin-bottom: 10px; width: 100%; border-left: 4px solid var(--mc); }
        .btn { background: var(--mc); color: #000; border: none; padding: 14px; border-radius: 12px; font-weight: 900; width: 100%; cursor: pointer; margin-top: 10px; transition: 0.2s; }
        .btn:active { transform: scale(0.96); opacity: 0.8; }
        .inp { background: #1a1a1a; border: 1px solid var(--mc); color: #fff; padding: 14px; border-radius: 12px; width: 100%; margin: 10px 0; font-size: 16px; }

        /* –°–µ—Ç–∫–∞ –¥–ª—è –≤—ã–±–æ—Ä–∞ –¥–∏–∑–∞–π–Ω–∞ (–ö–≤–∞–¥—Ä–∞—Ç—ã) */
        .grid-select { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; width: 100%; margin: 15px 0; }
        .sq-btn { aspect-ratio: 1/1; border-radius: 15px; border: 2px solid rgba(255,255,255,0.1); display: flex; flex-direction: column; align-items: center; justify-content: center; font-size: 24px; font-weight: bold; cursor: pointer; transition: 0.2s; }
        .sq-btn:active { transform: scale(0.9); }

        /* –ì–ª–∞–≤–Ω–∞—è */
        .main-ui { height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 20px; }
        .bal-display { font-size: 44px; font-weight: 900; margin: 10px 0; color: var(--mc); text-shadow: 0 0 15px var(--sh); }

        #toast { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); background: #fff; color: #000; padding: 10px 25px; border-radius: 25px; font-weight: 900; display: none; z-index: 2000; box-shadow: 0 5px 20px #000; }
    </style>
</head>
<body>
    <div id="toast"></div>

    <div class="header">
        <div class="icon-btn" onclick="openPanel('main-menu')">‚ò∞</div>
        <div style="font-weight: 900; letter-spacing: 1px;">GOLD SHOP</div>
        <div class="icon-btn" onclick="openPanel('settings')">‚öôÔ∏è</div>
    </div>

    <div class="main-ui">
        <div style="opacity: 0.6; letter-spacing: 2px; font-size: 12px;">–ú–û–ô –ë–ê–õ–ê–ù–°</div>
        <div class="bal-display"><span id="bal-val">15.00</span> <span id="cur-val">UAH</span></div>
        <button class="btn" style="width: 80%; font-size: 18px;" onclick="openPanel('shop')">üì¶ –ö–ê–¢–ï–ì–û–†–ò–ò</button>
    </div>

    <div id="main-menu" class="panel">
        <div id="menu-home" class="sub-panel active">
            <div class="card" onclick="showSub('profile')">üë§ –ú–û–ô –ü–†–û–§–ò–õ–¨</div>
            <div class="card" onclick="showSub('design')">üé® –î–ò–ó–ê–ô–ù –ò –≠–§–§–ï–ö–¢–´</div>
            <button class="btn" style="background: #222; color: #fff;" onclick="closePanels()">‚Üê –ù–ê–ó–ê–î</button>
        </div>

        <div id="profile" class="sub-panel">
            <div class="card" style="text-align: center; border-left: none; border-bottom: 4px solid var(--mc);">
                <h2 id="u-name" style="margin: 5px 0;">–ò–≥—Ä–æ–∫</h2>
                <p style="opacity: 0.5; margin: 0;">ID: <span id="u-id">000000</span></p>
            </div>
            <div class="btn" onclick="showSub('promo')">üéÅ –ü–†–û–ú–û–ö–û–î–´</div>
            <div class="btn" onclick="showSub('deposit')">üí≥ –ü–û–ü–û–õ–ù–ï–ù–ò–ï</div>
            <div class="btn" onclick="msg('–í—ã–≤–æ–¥ –¥–æ—Å—Ç—É–ø–µ–Ω –æ—Ç 1000 –≥–æ–ª–¥—ã')">üí∏ –í–´–í–û–î –°–†–ï–î–°–¢–í</div>
            <div class="btn" onclick="changeCurrency()">üîÑ –°–ú–ï–ù–ò–¢–¨ –í–ê–õ–Æ–¢–£</div>
            <div class="btn" style="background:#444; color:#fff;" onclick="msg('–°–≤—è–∑—å: @admin_shop')">üéß –ü–û–î–î–ï–†–ñ–ö–ê</div>
            <button class="btn" style="background: transparent; color: var(--mc);" onclick="showSub('menu-home')">‚Üê –ù–ê–ó–ê–î</button>
        </div>

        <div id="deposit" class="sub-panel">
            <h3>–ü–û–ü–û–õ–ù–ï–ù–ò–ï</h3>
            <div class="card">–ú–∏–Ω. —Å—É–º–º–∞: 45 UAH / 100 RUB</div>
            <input type="number" id="dep-amt" class="inp" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É...">
            <button class="btn" onclick="pay('CARD')">üí≥ –ö–ê–†–¢–ê (–ì–†–ù/–†–£–ë)</button>
            <button class="btn" onclick="pay('CRYPTO')">üíé –ö–†–ò–ü–¢–û–í–ê–õ–Æ–¢–ê (TON)</button>
            <button class="btn" style="background:none; color:#777" onclick="showSub('profile')">–û–¢–ú–ï–ù–ê</button>
        </div>

        <div id="promo" class="sub-panel">
            <h3>–ü–†–û–ú–û–ö–û–î</h3>
            <input type="text" class="inp" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥...">
            <button class="btn" onclick="msg('–ö–æ–¥ –Ω–µ–≤–µ—Ä–Ω—ã–π –∏–ª–∏ –∏—Å—Ç–µ–∫')">–ê–ö–¢–ò–í–ò–†–û–í–ê–¢–¨</button>
            <button class="btn" style="background:none; color:#777" onclick="showSub('profile')">–ù–ê–ó–ê–î</button>
        </div>

        <div id="design" class="sub-panel">
            <h3>–¶–í–ï–¢–ê</h3>
            <div class="grid-select">
                <div class="sq-btn" style="background: #0066ff;" onclick="setT('#0066ff')"></div>
                <div class="sq-btn" style="background: #ffffff;" onclick="setT('#ffffff')"></div>
                <div class="sq-btn" style="background: #ff3333;" onclick="setT('#ff3333')"></div>
                <div class="sq-btn" style="background: #22ff22;" onclick="setT('#22ff22')"></div>
                <div class="sq-btn" style="background: #aa00ff;" onclick="setT('#aa00ff')"></div>
                <div class="sq-btn" style="background: #ffd700;" onclick="setT('#ffd700')"></div>
            </div>
            <h3>–≠–§–§–ï–ö–¢–´</h3>
            <div class="grid-select">
                <div class="sq-btn" onclick="setE('üå∏')">üå∏</div>
                <div class="sq-btn" onclick="setE('üçÄ')">üçÄ</div>
                <div class="sq-btn" onclick="setE('üí∞')">üí∞</div>
                <div class="sq-btn" onclick="setE('‚ùÑÔ∏è')">‚ùÑÔ∏è</div>
                <div class="sq-btn" onclick="setE('‚≠ê')">‚≠ê</div>
                <div class="sq-btn" onclick="stopE()">‚ùå</div>
            </div>
            <button class="btn" style="background:#222; color:#fff" onclick="showSub('menu-home')">–ù–ê–ó–ê–î</button>
        </div>
    </div>

    <div id="shop" class="panel">
        <h2 style="text-align: center;">–ö–ê–¢–ï–ì–û–†–ò–ò</h2>
        <div class="card" onclick="showSub('st2')">üî´ Standoff 2 (GOLD)</div>
        <button class="btn" style="background:#222; color:#fff" onclick="closePanels()">‚Üê –ù–ê–ó–ê–î</button>

        <div id="st2" class="sub-panel">
            <div class="card">100 –ì–æ–ª–¥—ã <br> <small>–¶–µ–Ω–∞: 50 <span class="v-sm">UAH</span></small> <button class="btn" style="padding:5px; margin-top:5px;" onclick="msg('–ü–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å')">–ö–£–ü–ò–¢–¨</button></div>
            <div class="card">500 –ì–æ–ª–¥—ã <br> <small>–¶–µ–Ω–∞: 240 <span class="v-sm">UAH</span></small> <button class="btn" style="padding:5px; margin-top:5px;" onclick="msg('–ü–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å')">–ö–£–ü–ò–¢–¨</button></div>
            <div class="card">1000 –ì–æ–ª–¥—ã <br> <small>–¶–µ–Ω–∞: 450 <span class="v-sm">UAH</span></small> <button class="btn" style="padding:5px; margin-top:5px;" onclick="msg('–ü–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å')">–ö–£–ü–ò–¢–¨</button></div>
            <button class="btn" style="background:none; color:#777" onclick="showSub('')">–ö –ö–ê–¢–ï–ì–û–†–ò–Ø–ú</button>
        </div>
    </div>

    <div id="settings" class="panel">
        <h3>–ù–ê–°–¢–†–û–ô–ö–ò</h3>
        <div class="card">–Ø–ó–´–ö: –†–£–°–°–ö–ò–ô üá∑üá∫</div>
        <button class="btn" onclick="closePanels()">–ó–ê–ö–†–´–¢–¨</button>
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        let bal = 15.0; 
        let cur = "UAH";
        let effectInterval;

        function update() {
            document.getElementById('bal-val').innerText = bal.toFixed(2);
            document.getElementById('cur-val').innerText = cur;
            document.querySelectorAll('.v-sm').forEach(e => e.innerText = cur);
        }

        function msg(t) {
            let b = document.getElementById('toast');
            b.innerText = t; b.style.display = 'block';
            setTimeout(() => b.style.display = 'none', 2000);
        }

        function openPanel(id) {
            closePanels();
            document.getElementById(id).classList.add('active');
        }

        function closePanels() {
            document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
        }

        function showSub(id) {
            document.querySelectorAll('.sub-panel').forEach(s => s.classList.remove('active'));
            if(id) document.getElementById(id).classList.add('active');
        }

        function changeCurrency() {
            if(cur === "UAH") { cur = "RUB"; bal = bal * 2.2; }
            else if(cur === "RUB") { cur = "TON"; bal = bal / 500; }
            else { cur = "UAH"; bal = 15.0; }
            update();
            msg("–í–∞–ª—é—Ç–∞: " + cur);
        }

        function setT(color) {
            document.documentElement.style.setProperty('--mc', color);
            msg("–°—Ç–∏–ª—å –æ–±–Ω–æ–≤–ª–µ–Ω");
        }

        function setE(emoji) {
            stopE();
            effectInterval = setInterval(() => {
                const p = document.createElement('div');
                p.className = 'particle'; p.innerText = emoji;
                p.style.left = Math.random() * 100 + 'vw';
                p.style.fontSize = Math.random() * 20 + 15 + 'px';
                p.style.animationDuration = (Math.random() * 3 + 2) + 's';
                document.body.appendChild(p);
                setTimeout(() => p.remove(), 4000);
            }, 400);
            msg("–≠—Ñ—Ñ–µ–∫—Ç –∑–∞–ø—É—â–µ–Ω");
        }

        function stopE() { if(effectInterval) clearInterval(effectInterval); }

        function pay(type) {
            let amt = document.getElementById('dep-amt').value;
            if(!amt || amt < 45) return msg("–ú–∏–Ω–∏–º—É–º 45 UAH / 100 RUB");
            if(type === 'CRYPTO') {
                prompt("–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ TON –Ω–∞ –∞–¥—Ä–µ—Å (–æ—Ç–ø—Ä–∞–≤—å—Ç–µ —á–µ–∫ –≤ –õ–°):", "UQBXsDXoFMFD3752_K-87KOPztj5KbTrQq9irD32bUEAMQ3L");
            } else {
                msg("–°–æ–∑–¥–∞–Ω–∏–µ —Å—á–µ—Ç–∞...");
            }
        }

        window.onload = () => {
            document.getElementById('u-name').innerText = tg.initDataUnsafe.user?.first_name || "–ò–≥—Ä–æ–∫";
            document.getElementById('u-id').innerText = tg.initDataUnsafe.user?.id || "654321";
            tg.expand();
            update();
        };
    </script>
</body>
</html>

